exports.id=83,exports.ids=[83],exports.modules={917:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},1245:(e,r,t)=>{Promise.resolve().then(t.bind(t,908)),Promise.resolve().then(t.bind(t,8303))},5047:(e,r,t)=>{"use strict";var s=t(7389);t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(r,{useSearchParams:function(){return s.useSearchParams}})},4917:(e,r,t)=>{"use strict";t.d(r,{P:()=>h});var s=t(326),a=t(7577),o=t(6791),i=t(445),n=t(908),c=t(8303);let l=()=>{let[e,r]=(0,a.useState)(null),{login:t}=(0,n.a)(),{addToast:s}=(0,c.p)(),l=e=>{switch(e){case"google":return i.Vv;case"microsoft":return i.O6;case"linkedin":return i.L2;default:throw Error(`Unsupported provider: ${e}`)}},d=async(e,r,a)=>{try{let o=e.displayName||e.email?.split("@")[0]||"User",i=a.organizationName||`${o}'s Organization`,n=await fetch("/api/auth/social-signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.email,name:o,organizationName:i,provider:r,providerUid:e.uid,photoURL:e.photoURL})}),c=await n.json();if(c.success){let r=await e.getIdToken();return await t(r),s({message:"Welcome to Cash Flow Finder! Account created successfully.",type:"success"}),{success:!0,isNewUser:!0}}throw Error(c.error?.message||"Failed to create account")}catch(e){return console.error("Social account creation error:",e),s({message:e.message||"Failed to create account. Please try again.",type:"error"}),{success:!1,error:e.message}}};return{signInWithSocial:async(e,a={})=>{r(e);try{let r=l(e),n=(await (0,o.rh)(i.I8,r)).user,c=await n.getIdToken();try{return await t(c),s({message:"Successfully signed in!",type:"success"}),{success:!0,isNewUser:!1}}catch(r){if(r.message.includes("not found")||r.message.includes("INVALID_CREDENTIALS"))return await d(n,e,a);throw r}}catch(t){console.error(`${e} auth error:`,t);let r=`Failed to sign in with ${e}. Please try again.`;return"auth/popup-closed-by-user"===t.code?r="Sign in was cancelled.":"auth/popup-blocked"===t.code?r="Pop-up was blocked. Please allow pop-ups and try again.":"auth/account-exists-with-different-credential"===t.code&&(r="An account already exists with this email using a different sign-in method."),s({message:r,type:"error"}),{success:!1,error:r}}finally{r(null)}},linkSocialAccount:async e=>{r(e);try{let r=l(e);return await (0,o.rh)(i.I8,r),s({message:`Successfully linked ${e} account!`,type:"success"}),{success:!0}}catch(t){console.error(`Link ${e} error:`,t);let r=`Failed to link ${e} account.`;return"auth/credential-already-in-use"===t.code&&(r=`This ${e} account is already linked to another user.`),s({message:r,type:"error"}),{success:!1,error:r}}finally{r(null)}},loading:e,isLoading:r=>e===r}};var d=t(9375);let u=[{id:"google",name:"Google",icon:(0,s.jsxs)("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[s.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),s.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),s.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),s.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),bgColor:"bg-white hover:bg-gray-50",textColor:"text-gray-900",borderColor:"border-gray-300"},{id:"linkedin",name:"LinkedIn",icon:s.jsx("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:s.jsx("path",{fill:"#0077B5",d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"})}),bgColor:"bg-[#0077B5] hover:bg-[#005885]",textColor:"text-white",borderColor:"border-[#0077B5]"}],h=({mode:e,onSuccess:r,className:t=""})=>{let{signInWithSocial:a,isLoading:o}=l(),i=async e=>{let t=await a(e,{organizationName:void 0});t.success&&r&&r(e,t.isNewUser||!1)};return s.jsx("div",{className:`space-y-3 ${t}`,children:u.map(r=>s.jsx("button",{type:"button",disabled:o(r.id),onClick:()=>i(r.id),className:`
            w-full flex items-center justify-center px-4 py-2 border rounded-lg font-medium transition-colors duration-200
            ${r.bgColor} ${r.textColor} ${r.borderColor}
            disabled:opacity-50 disabled:cursor-not-allowed
            focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-trueblue
          `,children:o(r.id)?(0,s.jsxs)(s.Fragment,{children:[s.jsx(d.T,{size:"sm",className:"mr-2"}),"login"===e?"Signing in...":"Creating account..."]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx("span",{className:"mr-2",children:r.icon}),"login"===e?`Sign in with ${r.name}`:`Sign up with ${r.name}`]})},r.id))})}},908:(e,r,t)=>{"use strict";t.d(r,{AuthProvider:()=>d,a:()=>u});var s=t(326),a=t(7577),o=t(445),i=t(6791);let n=(0,a.createContext)(void 0),c=(e,r)=>{switch(r.type){case"SET_LOADING":return{...e,loading:r.payload};case"SET_USER":return{...e,user:r.payload};case"SET_AUTH_CONTEXT":return{...e,authContext:r.payload};case"SET_ERROR":return{...e,error:r.payload};case"CLEAR_AUTH":return{...e,user:null,authContext:null,error:null};default:return e}},l={user:null,authContext:null,loading:!0,error:null},d=({children:e})=>{let[r,t]=(0,a.useReducer)(c,l);(0,a.useEffect)(()=>(0,i.Aj)(o.I8,async e=>{if(t({type:"SET_USER",payload:e}),e)try{let r=await e.getIdToken();await d(r)}catch(e){console.error("Authentication error:",e),t({type:"SET_ERROR",payload:"Authentication failed"})}else t({type:"CLEAR_AUTH"}),localStorage.removeItem("authToken");t({type:"SET_LOADING",payload:!1})}),[]);let d=async e=>{try{let r=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idToken:e})}),s=await r.json();if(s.success&&s.data){let{token:e,user:r}=s.data;localStorage.setItem("authToken",e),t({type:"SET_AUTH_CONTEXT",payload:r}),t({type:"SET_ERROR",payload:null})}else throw Error(s.error?.message||"Authentication failed")}catch(e){console.error("Backend authentication error:",e),t({type:"SET_ERROR",payload:e.message})}},u=async e=>{t({type:"SET_LOADING",payload:!0});try{await d(e)}catch(e){t({type:"SET_ERROR",payload:e.message})}finally{t({type:"SET_LOADING",payload:!1})}},h=async()=>{try{await o.I8.signOut(),localStorage.removeItem("authToken"),t({type:"CLEAR_AUTH"})}catch(e){console.error("Logout error:",e),t({type:"SET_ERROR",payload:e.message})}},p=async()=>{if(r.user)try{let e=await r.user.getIdToken(!0);await d(e)}catch(e){console.error("Refresh auth error:",e),t({type:"SET_ERROR",payload:e.message})}},m={...r,login:u,logout:h,refreshAuth:p};return s.jsx(n.Provider,{value:m,children:e})},u=()=>{let e=(0,a.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},8303:(e,r,t)=>{"use strict";t.d(r,{ToastProvider:()=>i,p:()=>c});var s=t(326),a=t(7577);let o=(0,a.createContext)(void 0),i=({children:e})=>{let[r,t]=(0,a.useState)([]),i=(0,a.useCallback)(e=>{let r=Math.random().toString(36).substr(2,9),s={...e,id:r};t(e=>[...e,s]),setTimeout(()=>{c(r)},e.duration||5e3)},[]),c=(0,a.useCallback)(e=>{t(r=>r.filter(r=>r.id!==e))},[]);return(0,s.jsxs)(o.Provider,{value:{toasts:r,addToast:i,removeToast:c},children:[e,s.jsx(n,{})]})},n=()=>{let{toasts:e,removeToast:r}=c();return s.jsx("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:e.map(e=>(0,s.jsxs)("div",{className:`
            max-w-sm p-4 rounded-lg shadow-lg flex items-start space-x-3 animate-slide-up
            ${"success"===e.type?"bg-success text-white":""}
            ${"error"===e.type?"bg-error text-white":""}
            ${"warning"===e.type?"bg-warning text-white":""}
            ${"info"===e.type?"bg-trueblue text-white":""}
          `,children:[s.jsx("div",{className:"flex-1",children:s.jsx("p",{className:"text-sm font-medium",children:e.message})}),s.jsx("button",{onClick:()=>r(e.id),className:"ml-2 text-white/80 hover:text-white",children:s.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:s.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},e.id))})},c=()=>{let e=(0,a.useContext)(o);if(void 0===e)throw Error("useToast must be used within a ToastProvider");return e}},9375:(e,r,t)=>{"use strict";t.d(r,{T:()=>a});var s=t(326);t(7577);let a=({size:e="md",className:r=""})=>s.jsx("div",{className:`loading-spinner ${{sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"}[e]} ${r}`})},445:(e,r,t)=>{"use strict";t.d(r,{I8:()=>n,L2:()=>l,O6:()=>d,Vv:()=>c});var s=t(2585),a=t(6791);let o={apiKey:process.env.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:process.env.NEXT_PUBLIC_FIREBASE_APP_ID},i=(0,s.ZF)(o),n=(0,a.v0)(i),c=new a.hJ;c.addScope("email"),c.addScope("profile"),c.setCustomParameters({prompt:"select_account"});let l=new a.O4("oidc.linkedin");l.addScope("openid"),l.addScope("profile"),l.addScope("email");let d=new a.O4("microsoft.com");d.addScope("openid"),d.addScope("profile"),d.addScope("email")},2932:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d,metadata:()=>l});var s=t(9510),a=t(5384),o=t.n(a);t(5023);var i=t(8570);let n=(0,i.createProxy)(String.raw`C:\Users\cmeredith\source\repos\cashflow-trader\src\components\providers\AuthProvider.tsx#AuthProvider`);(0,i.createProxy)(String.raw`C:\Users\cmeredith\source\repos\cashflow-trader\src\components\providers\AuthProvider.tsx#useAuth`);let c=(0,i.createProxy)(String.raw`C:\Users\cmeredith\source\repos\cashflow-trader\src\components\providers\ToastProvider.tsx#ToastProvider`);(0,i.createProxy)(String.raw`C:\Users\cmeredith\source\repos\cashflow-trader\src\components\providers\ToastProvider.tsx#useToast`);let l={title:"Cash Flow Finder - Business Acquisition Platform",description:"Find, analyze, and acquire profitable businesses with AI-powered due diligence and comprehensive data insights.",keywords:"business acquisition, business broker, cash flow, due diligence, business listings"};function d({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{className:`${o().className} font-body`,children:s.jsx(n,{children:s.jsx(c,{children:e})})})})}},5023:()=>{}};