(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{2038:function(e,t,r){Promise.resolve().then(r.t.bind(r,4811,23)),Promise.resolve().then(r.t.bind(r,2778,23)),Promise.resolve().then(r.bind(r,3310)),Promise.resolve().then(r.bind(r,7536))},3310:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return u},a:function(){return d}});var a=r(7437),n=r(2265),o=r(6410),s=r(3301);let i=(0,n.createContext)(void 0),l=(e,t)=>{switch(t.type){case"SET_LOADING":return{...e,loading:t.payload};case"SET_USER":return{...e,user:t.payload};case"SET_AUTH_CONTEXT":return{...e,authContext:t.payload};case"SET_ERROR":return{...e,error:t.payload};case"CLEAR_AUTH":return{...e,user:null,authContext:null,error:null};default:return e}},c={user:null,authContext:null,loading:!0,error:null},u=e=>{let{children:t}=e,[r,u]=(0,n.useReducer)(l,c);(0,n.useEffect)(()=>(0,s.Aj)(o.I8,async e=>{if(u({type:"SET_USER",payload:e}),e)try{let t=await e.getIdToken();await d(t)}catch(e){console.error("Authentication error:",e),u({type:"SET_ERROR",payload:"Authentication failed"})}else u({type:"CLEAR_AUTH"}),localStorage.removeItem("authToken");u({type:"SET_LOADING",payload:!1})}),[]);let d=async e=>{try{let r=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({idToken:e})}),a=await r.json();if(a.success&&a.data){let{token:e,user:t}=a.data;localStorage.setItem("authToken",e),u({type:"SET_AUTH_CONTEXT",payload:t}),u({type:"SET_ERROR",payload:null})}else{var t;throw Error((null===(t=a.error)||void 0===t?void 0:t.message)||"Authentication failed")}}catch(e){console.error("Backend authentication error:",e),u({type:"SET_ERROR",payload:e.message})}},p=async e=>{u({type:"SET_LOADING",payload:!0});try{await d(e)}catch(e){u({type:"SET_ERROR",payload:e.message})}finally{u({type:"SET_LOADING",payload:!1})}},_=async()=>{try{await o.I8.signOut(),localStorage.removeItem("authToken"),u({type:"CLEAR_AUTH"})}catch(e){console.error("Logout error:",e),u({type:"SET_ERROR",payload:e.message})}},E=async()=>{if(r.user)try{let e=await r.user.getIdToken(!0);await d(e)}catch(e){console.error("Refresh auth error:",e),u({type:"SET_ERROR",payload:e.message})}},h={...r,login:p,logout:_,refreshAuth:E};return(0,a.jsx)(i.Provider,{value:h,children:t})},d=()=>{let e=(0,n.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},7536:function(e,t,r){"use strict";r.d(t,{ToastProvider:function(){return s},p:function(){return l}});var a=r(7437),n=r(2265);let o=(0,n.createContext)(void 0),s=e=>{let{children:t}=e,[r,s]=(0,n.useState)([]),l=(0,n.useCallback)(e=>{let t=Math.random().toString(36).substr(2,9),r={...e,id:t};s(e=>[...e,r]),setTimeout(()=>{c(t)},e.duration||5e3)},[]),c=(0,n.useCallback)(e=>{s(t=>t.filter(t=>t.id!==e))},[]);return(0,a.jsxs)(o.Provider,{value:{toasts:r,addToast:l,removeToast:c},children:[t,(0,a.jsx)(i,{})]})},i=()=>{let{toasts:e,removeToast:t}=l();return(0,a.jsx)("div",{className:"fixed top-4 right-4 z-50 space-y-2",children:e.map(e=>(0,a.jsxs)("div",{className:"\n            max-w-sm p-4 rounded-lg shadow-lg flex items-start space-x-3 animate-slide-up\n            ".concat("success"===e.type?"bg-success text-white":"","\n            ").concat("error"===e.type?"bg-error text-white":"","\n            ").concat("warning"===e.type?"bg-warning text-white":"","\n            ").concat("info"===e.type?"bg-trueblue text-white":"","\n          "),children:[(0,a.jsx)("div",{className:"flex-1",children:(0,a.jsx)("p",{className:"text-sm font-medium",children:e.message})}),(0,a.jsx)("button",{onClick:()=>t(e.id),className:"ml-2 text-white/80 hover:text-white",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]},e.id))})},l=()=>{let e=(0,n.useContext)(o);if(void 0===e)throw Error("useToast must be used within a ToastProvider");return e}},6410:function(e,t,r){"use strict";r.d(t,{I8:function(){return l},L2:function(){return u},O6:function(){return d},Vv:function(){return c}});var a=r(996),n=r(3301),o=r(257);let s={apiKey:o.env.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:o.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:o.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:o.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:o.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:o.env.NEXT_PUBLIC_FIREBASE_APP_ID},i=(0,a.ZF)(s),l=(0,n.v0)(i),c=new n.hJ;c.addScope("email"),c.addScope("profile"),c.setCustomParameters({prompt:"select_account"});let u=new n.O4("oidc.linkedin");u.addScope("openid"),u.addScope("profile"),u.addScope("email");let d=new n.O4("microsoft.com");d.addScope("openid"),d.addScope("profile"),d.addScope("email")},2778:function(){},4811:function(e){e.exports={style:{fontFamily:"'__Inter_e8ce0c', '__Inter_Fallback_e8ce0c'",fontStyle:"normal"},className:"__className_e8ce0c"}}},function(e){e.O(0,[2,139,685,971,117,744],function(){return e(e.s=2038)}),_N_E=e.O()}]);