(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[271],{9911:function(e,a,s){Promise.resolve().then(s.bind(s,3669))},3669:function(e,a,s){"use strict";s.r(a),s.d(a,{default:function(){return u}});var r=s(7437),t=s(2265),l=s(7648),i=s(9376),n=s(3301),d=s(6410),o=s(7536),c=s(2496),m=s(1955);function u(){let[e,a]=(0,t.useState)({name:"",email:"",password:"",confirmPassword:"",organizationName:""}),[s,u]=(0,t.useState)(!1),h=(0,i.useRouter)(),x=(0,i.useSearchParams)().get("plan")||"starter",{addToast:p}=(0,o.p)(),f=e=>{a(a=>({...a,[e.target.name]:e.target.value}))},j=async a=>{if(a.preventDefault(),e.password!==e.confirmPassword){p({message:"Passwords do not match",type:"error"});return}if(e.password.length<8){p({message:"Password must be at least 8 characters long",type:"error"});return}u(!0);try{await (0,n.Xb)(d.I8,e.email,e.password);let a=await fetch("/api/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.email,name:e.name,password:e.password,organizationName:e.organizationName})}),r=await a.json();if(r.success)p({message:"Account created successfully! Welcome to Cash Flow Finder.",type:"success"}),h.push("/dashboard");else{var s;throw Error((null===(s=r.error)||void 0===s?void 0:s.message)||"Failed to create account")}}catch(a){console.error("Signup error:",a);let e="Failed to create account. Please try again.";"auth/email-already-in-use"===a.code?e="An account with this email already exists.":"auth/weak-password"===a.code?e="Password is too weak. Please choose a stronger password.":"auth/invalid-email"===a.code&&(e="Please enter a valid email address."),p({message:e,type:"error"})}finally{u(!1)}};return(0,r.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"mx-auto h-12 w-12 bg-trueblue rounded-lg flex items-center justify-center",children:(0,r.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),(0,r.jsx)("h2",{className:"mt-6 text-center heading-lg",children:"Start your free trial"}),(0,r.jsxs)("p",{className:"mt-2 text-center text-sm text-muted",children:["Or"," ",(0,r.jsx)(l.default,{href:"/auth/login",className:"font-medium text-trueblue hover:text-deepocean",children:"sign in to your existing account"})]})]}),(0,r.jsx)("div",{className:"bg-trueblue/5 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h3",{className:"font-medium text-gray-900 capitalize",children:[x," Plan"]}),(0,r.jsxs)("p",{className:"text-sm text-muted",children:["starter"===x&&"$49/month after 14-day free trial","professional"===x&&"$149/month after 14-day free trial","enterprise"===x&&"$399/month after 14-day free trial"]})]}),(0,r.jsx)(l.default,{href:"/",className:"text-sm text-trueblue hover:text-deepocean",children:"Change plan"})]})}),(0,r.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:j,children:[(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"name",className:"label",children:"Full Name"}),(0,r.jsx)("input",{id:"name",name:"name",type:"text",required:!0,className:"input",placeholder:"John Doe",value:e.name,onChange:f,disabled:s})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"email",className:"label",children:"Email Address"}),(0,r.jsx)("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:"input",placeholder:"john@example.com",value:e.email,onChange:f,disabled:s})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"organizationName",className:"label",children:"Organization Name"}),(0,r.jsx)("input",{id:"organizationName",name:"organizationName",type:"text",required:!0,className:"input",placeholder:"Your Company Name",value:e.organizationName,onChange:f,disabled:s})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"password",className:"label",children:"Password"}),(0,r.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:"input",placeholder:"Minimum 8 characters",value:e.password,onChange:f,disabled:s})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{htmlFor:"confirmPassword",className:"label",children:"Confirm Password"}),(0,r.jsx)("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:"input",placeholder:"Confirm your password",value:e.confirmPassword,onChange:f,disabled:s})]})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{id:"agree-terms",name:"agree-terms",type:"checkbox",required:!0,className:"h-4 w-4 text-trueblue focus:ring-trueblue border-gray-300 rounded"}),(0,r.jsxs)("label",{htmlFor:"agree-terms",className:"ml-2 block text-sm text-gray-900",children:["I agree to the"," ",(0,r.jsx)(l.default,{href:"/terms",className:"text-trueblue hover:text-deepocean",children:"Terms of Service"})," ","and"," ",(0,r.jsx)(l.default,{href:"/privacy",className:"text-trueblue hover:text-deepocean",children:"Privacy Policy"})]})]}),(0,r.jsx)("div",{children:(0,r.jsx)("button",{type:"submit",disabled:s,className:"btn btn-primary w-full flex justify-center items-center",children:s?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c.T,{size:"sm",className:"mr-2"}),"Creating account..."]}):"Start free trial"})}),(0,r.jsx)("div",{className:"text-center",children:(0,r.jsx)("p",{className:"text-xs text-muted",children:"No credit card required. Cancel anytime during the 14-day trial."})}),(0,r.jsxs)("div",{className:"mt-6",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"absolute inset-0 flex items-center",children:(0,r.jsx)("div",{className:"w-full border-t border-gray-300"})}),(0,r.jsx)("div",{className:"relative flex justify-center text-sm",children:(0,r.jsx)("span",{className:"px-2 bg-gray-50 text-muted",children:"Or continue with"})})]}),(0,r.jsx)("div",{className:"mt-6",children:(0,r.jsx)(m.P,{mode:"signup",onSuccess:()=>h.push("/dashboard")})})]})]})]})})}}},function(e){e.O(0,[139,685,648,337,971,117,744],function(){return e(e.s=9911)}),_N_E=e.O()}]);